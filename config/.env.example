# =============================================================================
# AMM-500: US500 Index Market Making Bot Configuration
# =============================================================================
# Copy this file to .env and fill in your credentials
# NEVER commit .env to version control!
#
# This configuration is optimized for US500 (S&P 500 Index) perpetuals
# traded on Hyperliquid via the KM deployer (km:US500).

# -----------------------------------------------------------------------------
# API Credentials (from Hyperliquid Dashboard)
# -----------------------------------------------------------------------------
# Your wallet private key (for signing transactions)
PRIVATE_KEY=your_private_key_here

# Your wallet address
WALLET_ADDRESS=your_wallet_address_here

# Optional: Session key for faster signatures (recommended for HFT)
SESSION_PRIVATE_KEY=
SESSION_PUBLIC_KEY=

# -----------------------------------------------------------------------------
# Trading Parameters (OPTIMIZED FOR US500)
# -----------------------------------------------------------------------------
# Trading symbol (US500 for S&P 500 Index perpetual)
SYMBOL=US500

# KM deployer symbol (for API calls that need full identifier)
KM_SYMBOL=km:US500

# Initial leverage (max 25x for US500, recommended 20x)
LEVERAGE=20

# Maximum net exposure in USD (lower for index perps)
MAX_NET_EXPOSURE=25000

# Collateral amount in USDC
COLLATERAL=1000

# Minimum spread in basis points (TIGHTER for US500's lower volatility)
# 1 bps minimum when volatility < 5%
MIN_SPREAD_BPS=1

# Maximum spread in basis points (widen during high vol)
MAX_SPREAD_BPS=50

# Order size as fraction of collateral (0.02 = 2%)
ORDER_SIZE_FRACTION=0.02

# Number of order levels on each side (20 for aggressive market making)
ORDER_LEVELS=20

# -----------------------------------------------------------------------------
# Risk Management (OPTIMIZED FOR US500)
# -----------------------------------------------------------------------------
# Maximum drawdown before pausing (5% = 0.05)
MAX_DRAWDOWN=0.05

# Stop loss trigger (2% adverse move)
STOP_LOSS_PCT=0.02

# Minimum margin ratio before reducing exposure
MIN_MARGIN_RATIO=0.15

# Risk reduction leverage levels
MEDIUM_RISK_LEVERAGE=15
LOW_RISK_LEVERAGE=10

# Volatility threshold for spread widening (annualized %)
# Lower for US500 (50% vs 100% for crypto)
HIGH_VOL_THRESHOLD=50

# Funding rate hedge threshold (0.015% = 1.5 bps)
FUNDING_RATE_HEDGE_THRESHOLD=0.00015

# Inventory skew threshold (aggressive one-sided quoting at 1.5% imbalance)
INVENTORY_SKEW_THRESHOLD=0.015

# -----------------------------------------------------------------------------
# Execution Settings (OPTIMIZED FOR FAST DELTA-NEUTRAL)
# -----------------------------------------------------------------------------
# Rebalance interval in seconds (3s for ultra-fast delta-neutral)
REBALANCE_INTERVAL=3

# Quote refresh interval in seconds
QUOTE_REFRESH_INTERVAL=1

# Maximum orders per batch (Hyperliquid limit: 40)
MAX_ORDERS_PER_BATCH=40

# Target actions per day (15000 for aggressive market making)
TARGET_ACTIONS_PER_DAY=15000

# Paper trading mode (simulate orders without placing them)
PAPER_TRADING=False

# -----------------------------------------------------------------------------
# Network Settings
# -----------------------------------------------------------------------------
# Use testnet for paper trading (True/False)
TESTNET=True

# Mainnet API URL
MAINNET_URL=https://api.hyperliquid.xyz

# Testnet API URL
TESTNET_URL=https://api.hyperliquid-testnet.xyz

# WebSocket URLs
MAINNET_WS_URL=wss://api.hyperliquid.xyz/ws
TESTNET_WS_URL=wss://api.hyperliquid-testnet.xyz/ws

# Request timeout in seconds
REQUEST_TIMEOUT=10

# Maximum retries for failed requests
MAX_RETRIES=3

# -----------------------------------------------------------------------------
# US500 Specific Settings
# -----------------------------------------------------------------------------
# Use BTC data as proxy if US500 history is insufficient
USE_BTC_PROXY=True

# Minimum candles required before using real US500 data
# 259200 = 6 months of 1-minute candles
MIN_REQUIRED_CANDLES=259200

# Auto-switch to real US500 data when available
AUTO_SWITCH_TO_REAL=True

# Volatility multiplier (US500 vol is ~30% of BTC vol)
VOL_MULTIPLIER=0.3

# Respect US market hours (experimental)
RESPECT_MARKET_HOURS=False

# -----------------------------------------------------------------------------
# Logging Settings
# -----------------------------------------------------------------------------
# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Enable trade logging to file
LOG_TRADES=True

# Log retention days
LOG_RETENTION_DAYS=30

# -----------------------------------------------------------------------------
# Performance Settings
# -----------------------------------------------------------------------------
# Enable Numba JIT compilation
ENABLE_JIT=True

# WebSocket ping interval
WS_PING_INTERVAL=15

# Order book depth to maintain locally
ORDERBOOK_DEPTH=10

# Metrics port (bot exposes metrics here)
METRICS_PORT=9090
